(this.webpackJsonpadminrutgersmenu=this.webpackJsonpadminrutgersmenu||[]).push([[0],{387:function(e,t,n){e.exports=n(508)},392:function(e,t,n){},393:function(e,t,n){},508:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(17),c=n.n(o),l=(n(392),n(393),n(214)),i=n(253),u=n.n(i),s=n(364),m=n(94),d=n(365),p=n.n(d),g=n(107),f=n.n(g),b=n(336),h=n(335),v=n(374),O=n.n(v),E=n(373),k=n.n(E),j=n(127),y=(n(504),n(258));var w=function(e){return r.a.createElement(j.a,Object.assign({},e,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),r.a.createElement(j.a.Header,{closeButton:!0},r.a.createElement(j.a.Title,{id:"contained-modal-title-vcenter"},"Confirm Delete")),r.a.createElement(j.a.Body,null,r.a.createElement("h4",null,"Are you sure?")),r.a.createElement(j.a.Footer,null,r.a.createElement(y.a,{variant:"primary",onClick:e.onHide},"No"),r.a.createElement(y.a,{variant:"secondary",onClick:e.onConfirm},"Yes")))},C=n(66),N={LOGIN:"LOGIN",LOGOUT:"LOGOUT"},U=Object(h.a)((function(e){return{button:{margin:e.spacing(1)}}})),x=Object(C.b)((function(e){return{currentUser:e.user.currentUser}}),(function(e){return{logout:function(){return e({type:N.LOGOUT})}}}))((function(e){var t=e.currentUser,n=e.logout,o=t.token,c=U(),i=Object(a.useState)({columns:[{title:"Name",field:"name"},{title:"Information",field:"info"},{title:"Image",field:"img",type:"string"},{title:"Campus",field:"campus",lookup:{busch:"Busch",livingston:"Livingston",collegeAve:"College Avenue",cookdouglas:"Cook/Douglas"}}]}),d=Object(m.a)(i,2),g=d[0],h=(d[1],Object(a.useState)([])),v=Object(m.a)(h,2),E=v[0],j=v[1],y=Object(a.useState)(!0),C=Object(m.a)(y,2),N=C[0],x=C[1],I=Object(a.useState)(!1),T=Object(m.a)(I,2),S=T[0],L=T[1];return Object(a.useEffect)((function(){N?(function(){var e=Object(s.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("https://menurutgersbackend.herokuapp.com/food");case 3:t=e.sent,j(t.data.data),console.log(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),e.t0&&console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()(),x(!1)):console.log(N)}),[E.length]),r.a.createElement("div",null,r.a.createElement(p.a,{title:"Rutgers Menu",columns:g.columns,data:E,editable:{onRowAdd:function(e){return new Promise((function(t){setTimeout((function(){t(),j((function(t){var n=Object(l.a)(t);return console.log(e),n.push(e),console.log(E),f.a.post("https://menurutgersbackend.herokuapp.com/food",e,{headers:{authorization:o}}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)})),n}))}),600)}))},onRowUpdate:function(e,t){return new Promise((function(n){setTimeout((function(){n(),t&&j((function(n){var a=Object(l.a)(n);a[a.indexOf(t)]=e;var r=t._id;return f.a.patch("https://menurutgersbackend.herokuapp.com/food/"+r,e,{headers:{authorization:o}}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)})),a}))}),600)}))},onRowDelete:function(e){return new Promise((function(t){setTimeout((function(){t(),j((function(t){var n=Object(l.a)(t);n.splice(n.indexOf(e),1);var a=e._id;return console.log(E),f.a.delete("https://menurutgersbackend.herokuapp.com/food/"+a,{headers:{authorization:o}}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)})),n}))}),600)}))}}}),r.a.createElement(b.a,{variant:"contained",color:"primary",size:"large",className:c.button,startIcon:r.a.createElement(k.a,null),onClick:function(e){setTimeout((function(){n()}),1e3),e.preventDefault()}},"Log Out"),r.a.createElement(b.a,{variant:"contained",color:"secondary",size:"large",className:c.button,startIcon:r.a.createElement(O.a,null),onClick:function(){return L(!0)}},"Delete All"),r.a.createElement(w,{show:S,onHide:function(){return L(!1)},onConfirm:function(){j([]),L(!1)}}))})),I=n(539),T=n(536),S=n(334),L=n(344),R=n(359),G=n(537),z=n(193),A=n(533),D=n(375),W=n.n(D),B=n(90),P=n(115),q=Object(P.a)({palette:{primary:{light:"#757ce8",main:"##e53935",dark:"#002884",contrastText:"#fff"},secondary:{light:"#ff7961",main:"#e53935",dark:"#ba000d",contrastText:"#000"}}}),F=Object(h.a)((function(){return{root:{height:"100vh"},image:{backgroundImage:"url(https://bestdelegate.com/wp-content/uploads/2013/12/Rutgers-Campus.jpg)",backgroundRepeat:"no-repeat",backgroundColor:"light"===q.palette.type?q.palette.grey[50]:q.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:q.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:q.spacing(1),backgroundColor:q.palette.secondary.main},form:{width:"100%",marginTop:q.spacing(1)},submit:{margin:q.spacing(3,0,2),backgroundColor:q.palette.secondary.main},colorRed:{color:q.palette.secondary.main}}})),H=Object(C.b)(null,(function(e){return{login:function(t){return e(function(e){return{type:N.LOGIN,payload:e}}(t))}}}))((function(e){var t=F(),n=Object(a.useState)(""),o=Object(m.a)(n,2),c=o[0],l=o[1],i=Object(a.useState)(""),u=Object(m.a)(i,2),s=u[0],d=u[1],p=e.login;return r.a.createElement(A.a,{container:!0,component:"main",className:t.root},r.a.createElement(T.a,null),r.a.createElement(A.a,{item:!0,xs:!1,sm:4,md:7,className:t.image}),r.a.createElement(A.a,{item:!0,xs:12,sm:8,md:5,component:z.a,elevation:6,square:!0},r.a.createElement("div",{className:t.paper},r.a.createElement(I.a,{className:t.avatar},r.a.createElement(W.a,null)),r.a.createElement(B.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:t.form,noValidate:!1,onSubmit:function(e){e.preventDefault();var t={email:c,password:s};f.a.post("https://menurutgersbackend.herokuapp.com/user/login",t).then((function(e){return p(e.data)})).catch((function(e){console.log(e),alert("Wrong email or password"),l(""),d("")}))}},r.a.createElement(S.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,color:"secondary",onChange:function(e){l(e.target.value)},value:c}),r.a.createElement(S.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",color:"secondary",onChange:function(e){d(e.target.value)},value:s}),r.a.createElement(L.a,{control:r.a.createElement(R.a,{value:"remember"}),label:"Remember me"}),r.a.createElement(b.a,{type:"submit",fullWidth:!0,variant:"contained",className:t.submit},"Sign In"),r.a.createElement(A.a,{container:!0},r.a.createElement(A.a,{item:!0,xs:!0},r.a.createElement(G.a,{href:"#",variant:"body2",className:t.colorRed},"Forgot password?")))))))}));var J=Object(C.b)((function(e){return{currentUser:e.user.currentUser}}))((function(e){var t=e.currentUser;return r.a.createElement("div",{className:"App"},t?r.a.createElement(x,null):r.a.createElement(H,null))})),M=n(379);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _=n(36),V=n(206),Y=n(376),$=n.n(Y),K=n(146),Q={currentUser:null},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N.LOGIN:return Object(K.a)(Object(K.a)({},e),{},{currentUser:t.payload});case N.LOGOUT:return Object(K.a)(Object(K.a)({},e),{},{currentUser:null});default:return e}},Z=n(377),ee={key:"root",storage:n.n(Z).a,whitelist:["user"]},te=Object(_.c)({user:X}),ne=Object(V.a)(ee,te),ae=[$.a],re=Object(_.e)(ne,_.a.apply(void 0,ae)),oe=Object(V.b)(re),ce=n(378);c.a.render(r.a.createElement(C.a,{store:re},r.a.createElement(M.a,null,r.a.createElement(r.a.StrictMode,null,r.a.createElement(ce.a,{persistor:oe},r.a.createElement(J,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[387,1,2]]]);
//# sourceMappingURL=main.a92063df.chunk.js.map